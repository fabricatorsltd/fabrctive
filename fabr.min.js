class FabrCore{fetchContent(sourceUrl){return fetch(sourceUrl).then((response)=>response.text()).then((html)=>{const parser=new DOMParser();const doc=parser.parseFromString(html,"text/html");const sourceElement=doc.querySelector("html");return sourceElement.innerHTML;}).catch((error)=>{console.error("Error:",error);});}
fetchJSON(sourceUrl){return fetch(sourceUrl).then((response)=>{if(!response.ok){throw new Error("Network response was not OK");}
const contentType=response.headers.get("content-type");if(!contentType||!contentType.includes("application/json")){throw new TypeError("Expected JSON response");}
return response.json();}).then((data)=>{if(!Array.isArray(data)||!data.every((item)=>typeof item==="object")){throw new TypeError("Invalid JSON data");}
return data;}).catch((error)=>{console.error("Error:",error);});}}
class FabrHelper{constructor(){this.helperUID=Math.random().toString(36).substr(2,9);this.helperName="Generic";this.component=null;}
init(component){this.component=component;}}
class FabrCoreComponent extends FabrCore{constructor(){super();this.componentUID=Math.random().toString(36).substr(2,9);this.componentName="Generic";this.componentType="generic";this.componentStyleClass="fabr-component";this.selector="";this.eventMap={};}
init(){this.initElements();this.initEventListeners();}
get repr(){return`<${this.componentName}:${this.componentUID}>`;}
get reprX(){const color=this.componentType==="test"?"#ff6c6c":"#6c63ff";return[`<${this.componentName}:${this.componentUID}>`,`background:${color};color:white;border-radius:3px;padding:0 3px;font-weight:bold`,];}
initElements(){if(!this.selector){return;}
this.elements=document.querySelectorAll(this.selector);this.elements.forEach((element)=>{element.classList.add(this.componentStyleClass);});}
initEventListeners(){if(Object.keys(this.eventMap).length===0){this.debugger.log(`No event listeners defined.`);return;}
for(let[event,fn]of Object.entries(this.eventMap)){this.elements.forEach((element)=>{element.addEventListener(event,(e)=>{this[fn](e);});});}}
addInternalEventListener(element,event,fn,reference=null){element.addEventListener(event,(e)=>{this[fn](e,reference);});}}
class Fabr extends FabrCore{constructor(){super();console.log("%cFabr initializing...","color: #00f");this.components={form:new FabrForm(),link:new FabrLink(),counter:new FabrCounter(),tooltip:new FabrTooltip(),notebook:new FabrNotebook(),table:new FabrTable(),animator:new FabrAnimator(),snippet:new FabrSnippet(),};this.init();console.log("%cFabr initialized","color: #00f");}
init(){this.initComponents();}
initComponents(){for(const cName in this.components){this.components[cName].init();}}
getComponent(cName){return this.components[cName];}
getComponents(){return this.components;}}
fabr=new Fabr();